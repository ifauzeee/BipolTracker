# ==================================================
# BIPOL TRACKER - Environment Configuration Template
# ==================================================
# Simpan file ini sebagai .env dan isi nilainya
# ==================================================

# --------------------------------------------------
# Server Configuration
# --------------------------------------------------
# Port web server (Default: 3000)
PORT=3000
# Port UDP untuk GPS Tracker (Default: 3333)
UDP_PORT=3333

# --------------------------------------------------
# Database (Supabase)
# --------------------------------------------------
# URL Project Supabase Anda
SUPABASE_URL=https://your-project.supabase.co
# Key 'service_role' (secret) atau 'anon' (public)
# Disarankan menggunakan service_role di server-side untuk akses penuh
SUPABASE_KEY=your-supabase-service-role-key

# --------------------------------------------------
# Security
# --------------------------------------------------
# String acak panjang untuk mengenkripsi session cookie
# Bisa generate pakai command: openssl rand -hex 32
SESSION_SECRET=ganti_dengan_string_random_panjang_dan_rahasia

# Set ke 'true' jika menggunakan HTTPS (Production), 'false' untuk localhost
USE_HTTPS=true

# Daftar domain yang diizinkan mengakses API (CORS)
# Pisahkan dengan koma tanpa spasi
ALLOWED_ORIGINS=http://localhost:3000,https://bipoltracker.cloud

# --------------------------------------------------
# Rate Limiting (Pembatasan Request)
# --------------------------------------------------
# Durasi window dalam milidetik (60000 = 1 menit)
RATE_LIMIT_WINDOW_MS=60000
# Maksimal request per IP dalam durasi window
RATE_LIMIT_MAX=100
# Batas khusus untuk endpoint login (mencegah brute force)
RATE_LIMIT_LOGIN_MAX=5

# --------------------------------------------------
# Caching & Data
# --------------------------------------------------
# Lama cache memory server dalam milidetik (5000 = 5 detik)
CACHE_TTL_MS=5000

# Lama penyimpanan data log GPS sebelum dihapus otomatis (dalam jam)
DATA_RETENTION_HOURS=24

# --------------------------------------------------
# Sensor & Tracker Logic
# --------------------------------------------------
# Pengaturan ini sekarang dikelola melalui Admin Panel (Database)
# - GAS_ALERT_THRESHOLD
# - BUS_STOP_TIMEOUT_MINUTES
# - UDP_MIN_SPEED_THRESHOLD

# --------------------------------------------------
# Legacy Server Integration (Optional)
# --------------------------------------------------
# Konfigurasi untuk meneruskan (forward) data GPS ke server lama
# Kosongkan jika tidak digunakan
LEGACY_SERVER_HOST=127.0.0.1
LEGACY_SERVER_PORT=5005

# --------------------------------------------------
# Testing Configuration (Optional)
# --------------------------------------------------
# Digunakan untuk QoS testing scripts (backend/tests/qos_*.js)
# Host target untuk testing (default: localhost)
TEST_HOST=localhost
# Durasi test dalam detik (default: 60)
TEST_DURATION=60